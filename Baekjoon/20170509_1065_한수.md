# [1065 한수](https://www.acmicpc.net/problem/1065) #


> **문제**
> 
> 어떤 양의 정수 X의 자리수가 등차수열을 이룬다면, 그 수를 한수라고 한다. 등차수열은 연속된 두 개의 수의 차이가 일정한 수열을 말한다. N이 주어졌을 때, 1보다 크거나 같고, N보다 작거나 같은 한수의 개수를 출력하는 프로그램을 작성하시오. 

----------



**문제분석**

먼저 문제에 대한 설명이 짧아 직관적으로 이해하기 어려웠지만, 결국 한 정수의 모든 자리가 등차수열을 이룬다는 의미였다.(ex. 12345(공차:1), 13579(공차:2))

먼저 계산이 불필요한 예외는 두 자리수이다. 어떻게 해서든 항이 두개 뿐이므로 등차수열을 이룰 수 밖에 없다.

- 12 -> 공차:1
- 97 -> 공차:-2
- ...


그리고 **한수**를 구하는 로직은 간단하다. 정수 X의 왼쪽 혹은 오른쪽부터 연속한 두 숫자의 차를 구하여 비교하면된다. 그 차가 다를 경우, 해당 정수 X는 **한수**가 아니다.

나는 오른쪽부터 왼쪽으로 비교해나가도록 구현하였으며, 각 자리수를 구하는 함수를 따로 구현하였다.



n은 본래의 정수이며, dig는 구하고자하는 자릿수가 오른쪽으로부터 몇번째인지 입력하면 된다.(1부터 시작)

```c++
int getNum(int n, int dig)
{
	int base = pow(10, dig);
	return (n % base) / (base / 10);
}
```


이 함수를 활용하여, 각 입력값이 **한수**인지 판별하는 함수를 구현하여 문제를 해결할 수 있었다.




**소스코드**

```c++
#include <stdio.h>
#include <math.h>
int cnt;

int getNum(int n, int dig)
{
	int base = pow(10, dig);
	return (n % base) / (base / 10);
}

bool hansoo(int n)
{
	if (n < 100) return true;
	int gap = getNum(n, 1) - getNum(n, 2);

	for (int i = 2; i <= (log10(n)); i++)
	{
		if (gap != (getNum(n, i) - getNum(n, i + 1))) return false;
	}
	return true;
}

int main()
{
	int n = 0;
	scanf("%d", &n);
	for (int i = 1; i <= n; i++)
	{
		if (hansoo(i))	cnt++;
	}
	printf("%d\n", cnt);
	return 0;
}
```


**리뷰**

이 md 문서를 작성하며 log함수니 power함수를 사용하여 각 자리의 숫자를 구하는 것이 상당히 불필요한 과정이었음을 깨달았다 :joy:

그냥 숫자를 문자열로 바꿔서 index에 따라 연산을 하면 되는데 수학적으로만 고민하다보니 더 복잡하게 풀이한 것 같다. (사실 문자로 변환하는게 더 큰 overhead일 수도 있을까...?)